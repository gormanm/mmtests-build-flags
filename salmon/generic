# CMake
CFLAGS="$DEFAULT_OPTIMISATION_LEVEL"
FFLAGS="$DEFAULT_OPTIMISATION_LEVEL"
LDFLAGS=""

case $MMTESTS_TOOLCHAIN in
gcc-10)
	FFLAGS+=" -fallow-argument-mismatch"
	;;
esac

CFLAGS+=" $MARCH_FLAG_DEFAULT $MTUNE_FLAG_DEFAULT $COMPILE_OPT_ALWAYS"
FFLAGS+=" $MARCH_FLAG_DEFAULT $MTUNE_FLAG_DEFAULT $COMPILE_OPT_ALWAYS"
LDFLAGS+=" $MARCH_FLAG_DEFAULT $MTUNE_FLAG_DEFAULT"

export CFLAGS
export FFLAGS
export LDFLAGS

log_opt "CFLAGS:           $CFLAGS"
log_opt "FFLAGS:           $FFLAGS"
log_opt "LDFLAGS:          $LDFLAGS"

load_standard_environment
load_mpi_environment
